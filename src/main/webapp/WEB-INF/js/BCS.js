/*!BC-S - 1.0.0-2020-04-03 */

!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var i={exports:{}};t(i,i.exports),e.BCS=i.exports}}(this,function(e,t){"use strict";t.__esModule=!0,t.BCSCollectionViewController=i,t.BCSNavigationController=n,t.BCSPageViewController=o,t.BCSSearchController=s,t.BCSSplitViewController=a,t.BCSTabBarController=u,t.BCSViewController=f,t.BCSWindowController=d,t.NotificationCenter=y,t.BCSBarItem=T,t.BCSBarButtonItem=w,t.BCSButton=S,t.BCSCollectionView=E,t.BCSCollectionViewCell=O,t.BCSControl=N,t.BCSDatePicker=B,t.BCSImageView=I,t.BCSLabel=R,t.BCSNavigationBar=D,t.BCSNavigationItem=V,t.BCSPageControl=F,t.BCSPickerView=M,t.BCSPoint=q,t.BCSSize=k,t.BCSVector=G,t.BCSVector1=j,t.BCSRect=H,t.BCSRect1=function Ge(e,t,i,n){var r=new q(e,t),o=new k(i,n);return new H(r,o)},t.BCSEdgeInsets=_,t.BCSProgressView=z,t.BCSRefreshControl=U,t.BCSScrollView=Y,t.BCSScrollViewDecelerationRate=J,t.BCSSlider=Z,t.BCSSwitch=Q,t.BCSTabBar=$,t.BCSTabBarItem=ee,t.BCSTableViewRowAction=function je(){},t.BCSTableView=te,t.BCSTableViewCell=se,t.BCSTextField=ae,t.BCSTextView=ue,t.BCSToolbar=he,t.BCSView=pe,t.BCSGestureRecognizer=Se,t.BCSLongPressGestureRecognizer=Oe,t.BCSPanGestureRecognizer=Ce,t.BCSPinchGestureRecognizer=Be,t.BCSRotationGestureRecognizer=Le,t.BCSSwipeGestureRecognizer=Fe,t.BCSTapGestureRecognizer=ke;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e){var t,i,n=e.split("/");t=n[n.length-1],delete n[n.length-1],i=n.join("/"),this.getName=function(){return t},this.getPath=function(){return i}}l.getCurrentJsFile=function(){var e=document.getElementsByTagName("script"),t=e[e.length-1];return 8<=document.documentMode?new l(t.src):new l(t.getAttribute("src",4))},l.importScript=function(e){document.write('<script type="text/javascript" src="'+e+'"><\/script>')},l.importCss=function(e){document.write('<link rel="stylesheet" type="text/css" href="'+e+'"/>')};var p=new function He(o){if(p)throw new TypeError(this.getClass()+" could be instantiated only once!");var e,n={},a={},t=o.navigator.userAgent,i=t.match(/\((.*?)\)/g),r=new g(o);for(r.apply(),e=0;e<i.length;e++)s(i[e]),t=t.replace(i[e],"");function u(e,t,i){for(var n,r=t.split(i),o=0;o<r.length;o++)r[o]&&(1===(n=r[o].split("/")).length?e[n[0]]=!0:e[n[0]]=n[1])}function s(e){if(-1!==e.indexOf("KHTML, like Gecko"))a.KHTML=!0;else{var t,i,n={},r=0,o=/(.*?)(\d+[\._]?.*)/;for(var s in e=e.substring(1,e.length-1),u(n,e,";"),n)n.hasOwnProperty(s)&&(t=n[s],-1!==(r=s.indexOf("Build"))?(a.model=s.substring(0,r).trim(),a.Build=t):"boolean"==typeof t&&(i=s.match(o))&&3===i.length?a[i[1].trim()]=i[2].trim():a[s.trim()]=t)}}u(a,t," "),function c(e){var t;e.isOpera=o.opr!==undefined,e.isOpera?(e.userAgent="Opera",a.hasOwnProperty("OPR")?t=a.OPR:a.hasOwnProperty("opr")&&(t=a.opr)):o.ActiveXObject||"ActiveXObject"in o?(e.isIE=!0,e.userAgent="IE",a.MSIE&&(t=a.MSIE)):a.hasOwnProperty("Chrome")?(e.isChrome=!0,e.userAgent="Chrome",t=a.Chrome):a.hasOwnProperty("Safari")?(e.isSafari=!0,e.userAgent="Safari",t=a.Safari):a.Firefox&&(e.isFirefox=!0,e.userAgent="Firefox",t=a.Firefox),a.Android?(e.OS="Android",e.OSVersion=a.Android,e.isMobile=!0):a.hasOwnProperty("Linux")&&(e.OS="Linux"),a.model&&(e.hardware=a.model),a.iPhone?(e.OS="iOS",e.OSVersion=a.Version,e.isMobile=!0,e.hardware="iPhone"):a.iPad?(e.OS="iOS",e.OSVersion=a.Version,e.isMobile=!0,e.hardware="iPad"):a["Intel Mac OS X"]&&(e.OS="Intel Mac OS X",e.OSVersion=a["Intel Mac OS X"],e.hardware="Intel Mac OS X"),a["Windows NT"]&&(e.OS="Windows NT",e.OSVersion=a["Windows NT"]),e.fullVersion=t,e.version=parseFloat(e.fullVersion)}(this),function h(e){var t=l.getCurrentJsFile();(e.isIE&&e.version<=7||e.isChrome&&e.version<4||e.isSafari&&e.version<4||e.isFirefox&&e.version<3.5||e.isOpera&&e.version<10.5)&&l.importScript(t.getPath()+"/IE7.js"),e.isIE&&e.version<=8&&l.importScript(t.getPath()+"/IE8.js"),e.isIE&&e.version<=9&&l.importScript(t.getPath()+"/IE9.js"),e.isIE&&e.version<=10&&l.importScript(t.getPath()+"/IE10.js"),(e.isEdge&&e.version<18||e.isIE||e.isChrome&&e.version<32||e.isSafari&&e.version<8||e.isFirefox&&e.version<29||e.isOpera&&e.version<19)&&l.importScript(t.getPath()+"/Edge.js"),l.importScript(t.getPath()+"/Common.js")}(this),this.isMobile&&(r.applyMobile(),this.enableRem=function(e){var t=document.createElement("style"),i=document.documentElement.clientWidth/e;t.innerHTML="html{font-size:"+i+"px!important}",document.head.appendChild(t)},this.enableViewport=function(e){var t,i;(i=document.querySelector("meta[name='viewport']"))?t=document.documentElement.clientWidth/e:(t=screen.width/e,(i=document.createElement("meta")).name="viewport",document.head.appendChild(i)),i.content="initial-scale="+t+",minimum-scale="+t+",maximun-scale="+t+",user-scalable=no"});this.runWith=function(e,t){var n,r=o.document;if("function"!=typeof e)throw new o.InvalidParameterException("The parameter of runWith in Browser class is not a function");r.ready(function(){if(this.isMobile){r.addEventListener("touchmove",function(e){1!==e.scale&&e.preventDefault()},!1);var i=0;r.addEventListener("touchend",function(e){var t=(new Date).getTime();t-i<=300&&e.preventDefault(),i=t},!1),r.addEventListener("gesturestart",function(e){e.preventDefault()}),r.body.style.cssText="height:100%;overflow:hidden;",r.getElementsByTagName("html")[0].style.cssText="height:100%;overflow:hidden;"}n=new e(t),o.rootViewController=n,t||r.body.appendChild(n.view.getLayer()),pe.prototype.window=new pe(r.body,{position:"relative"})}.bind(this)),o.onload=function(){n.viewDidLoad()},o.onpageshow=function(){n.viewDidAppear()},o.onpagehide=function(){n.viewWillDisappear()},o.onbeforeunload=function(){n&&n.viewWillUnload()},o.onunload=function(){n&&n.viewDidUnload()}},this.addPatches=function(e){n.shallowCopy(e)},this.applyPatches=function(e){for(var t,i=0;i<arguments.length;i++)(t=n[arguments[i]])&&"function"==typeof t?t.call(o,o,o.document):o.console&&console.log("No patch called "+arguments[i]+" is found!")}}(window);if("undefined"==typeof window)throw new Error("This script could only be used in frontend!");function i(e){i.call(this,e)}window.browser=p,window.PatchEnum={STORAGE:"patchStorage",DETAILS:"patchDetails",CANVAS:"patchCanvas",MEDIA:"patchMedia",GEO_LOCATION:"patchGeoLocation",DOM_IMPLEMENTATION:"patchDOMImplementation",BACKGROUND_BORDER:"patchBackgroundBorder",VIEW_PORT_UNITS:"patchViewportUnits",CSS_OBJECT_FIT:"patchCSSObjectFit",MEDIA_QUERIES:"patchMediaQueries",HTML_SELECT_ELEMENT:"patchHTMLSelectElement",WEB_SOCKETS:"patchWebSockets",HISTORY:"patchHistory",WEB_PERFORMANCE:"patchWebPerformance",TRANSFORM:"patchTransform",PLACEHOLDER:"patchPlaceholder",CONSOLE:"patchConsole",BLOB:"patchBlob",BASE64:"patchBase64",TYPED_ARRAY:"patchTypedArray",WORKER:"patchWorker",PAGE_VISIBILITY:"patchPageVisibility",REQUEST_ANIMATION_FRAME:"patchRequestAnimationFrame",PROGRESS:"patchProgress",RANGE_SELECTION:"patchRangeSelection",CSS3_FILTER:"patchCSS3Filter",RESOURCE_HINTS:"patchResourceHints",DIALOG:"patchDialog",DATA_SET:"patchDataset",POINTER_EVENTS:"patchPointerEvents",GET_USER_MEDIA:"patchGetUserMedia",CLASS_LIST:"patchClassList",CURRENT_SCRIPT:"patchCurrentScript",IE_TOUCH:"patchIETouch",POINTER_ACCURACY:"patchPointerAccuracy",CSS_SUPPORTS:"patchCSSSupports",FLEXIBILITY:"patchFlexibility",CAPTIONATOR:"patchCaptionator",PROMISE:"patchPromise",FETCH:"patchFetch",ES6:"patchES6",SEND_BEACON:"patchSendBeacon",FORM_DATA:"patchFormData",INDEXED_DB:"patchIndexedDB",METER:"patchMeter",OL_REVERSE:"patchOlReverse",FILE_SAVER:"patchFileSaver",MATHML:"patchMathML",ARIAAccessibility:"patchARIAAccessibility",PICTURE:"patchPicture",IMG_SRCSET:"patchImgSrcset",EVENT_SOURCE:"patchEventSource",FULL_SCREEN:"patchFullScreen",FONT_FACE:"patchFontFace",APNG:"patchAPNG",DATA_LIST:"patchDatalist",SET_IMMEDIATE:"patchSetImmediate",FETCH_JSONP:"patchFetchJSONP",RAPHAEL:"patchRaphael",OVER_THROW:"patchOverthrow",CANGO3D:"patchCango3D",EASYXDM:"patchEasyXDM",STYLE_SCOPED:"patchStyleScoped"},i.extend(f);t.UINavigationControllerOperationEnum={none:"none",push:"push",pop:"pop"};function n(e){f.call(this);var t=new he;this.isToolbarHidden=!1,this.toolbarItems=[];var i=new D;this.isNavigationBarHidden=!1,this.hidesBarsOnTap=!1,this.hidesBarsOnSwipe=!1,this.hidesBarsWhenVerticallyCompact=!1;var n=[];this.delegate=null;var r=new BCSView1({width:"100%",height:"100%"});this.getNavigationBar=function(){return i},this.getToolbar=function(){return t},this.getContainerView=function(){return r},this.getTopViewController=function(){if(0<n.length)return n[n.length-1]},this.getVisibleViewController=function(){return this.getTopViewController()},this.getViewControllers=function(){return n},this.view.addSubView(r),this.view.addSubView(i),this.view.addSubView(t),e&&this.pushViewController(e)}function c(e,t,i,n){t.viewDidAppear(n),t.view.getLayer().style.transition="",i&&(i.view.getLayer().style.transition="",i.viewWillDisappear(n),e.getContainerView().removeSubView(i.view),i.viewDidDisappear(n))}function h(t,i,n,r,o){return!!t.style.transition&&(t.addEventListener("transitionend",function s(e){e.target===t&&(c(i,n,r,o),t.removeEventListener("transitionend",s))}),!0)}function r(e,t,i,n,r,o,s,a,u){a=a||!1,t.viewWillAppear(a),e.getContainerView().addSubView(t.view),a?(u&&e.getContainerView().addSubView(r.view),t.view.setStyle(i),r&&r.view.setStyle(o),setTimeout(function(){h(t.view.getLayer(),e,t,r,a),t.view.setStyle(n),r&&r.view.setStyle(s)},0)):h(t.view.getLayer(),e,t,r,a)||h(e.view.getLayer(),e,t,r,a)||c(e,t,r,a)}function o(e){o.call(this,e)}function s(e){f.call(this,e)}function a(e){f.call(this,e),this.viewControllers=[]}function u(e){f.call(this,e),this.viewControllers=[]}function f(e){this.enablePrivateProperty({childViewControllers:[],parent:null,presentedViewController:null,presentingViewController:null}),this.view="string"==typeof e?pe.findViewById(e):new pe({width:"100%",height:"100%"},e),this.view.getLayer().setAttribute("controller",this.getClass())}function d(e){f.call(this,e)}n.extend(f),n.prototype.pushViewController=function(e,t){var i=this.getViewControllers();i.push(e),r(e.navigationController=this,e,{left:"100%",transition:"left 0.5s;"},{left:"0px"},i[i.length-2],{left:"0px",transition:"left 0.5s;"},{left:"-33%"},t)},n.prototype.popViewController=function(e){var t=this.getViewControllers();if(1<t.length){var i=t.pop();r(this,t[t.length-1],{transition:"left 0.5s;"},{left:"0px"},i,{transition:"left 0.5s;"},{left:"100%"},e,!0)}},n.prototype.setToolbarItems=function(e,t){},n.prototype.popToRootViewController=function(e){var t=this.getViewControllers();1<t.length&&(t.splice(1,t.length-2),this.popViewController(e))},o.extend(f),s.extend(f),a.extend(f),u.extend(f),(b=f.prototype).getChildViewControllers=function(){return this.getPrivate("childViewControllers")},b.getParent=function(){return this.getPrivate("parent")},b.getPresentedViewController=function(){return this.getPrivate("presentedViewController")},b.getPresentingViewController=function(){return this.getPrivate("presentingViewController")},b.viewDidLoad=function(){},b.layoutSubViews=function(){},b.viewWillAppear=function(e){},b.viewDidAppear=function(e){},b.viewWillDisappear=function(e){},b.viewDidDisappear=function(e){},b.viewWillUnload=function(){},b.viewDidUnload=function(){},b.addChildViewController=function(e){},b.insertChildViewController=function(e){},b.removeFromParentViewController=function(){},b.removeChildViewController=function(e){},b.loadPageInfo=function(e,t,i,n){var r,o=f.key;if(window.name){var s=JSON.parse(window.name);if(r=s[o]){try{delete s[o]}catch(u){s[o]=undefined}window.name=JSON.stringify(s),r.url!==location.href&&r.pathname!==location.pathname&&(r=undefined)}}if(!r&&e){i=i||window.HttpMethodEnum.GET;var a=new XMLHttpRequest;if(null===a)throw new TypeError("XMLHttpRequest is not supported");a.open(i,""+e+window.location.search,!1),a.onreadystatechange=function(){if(4===a.readyState)switch(a.status){case 302:case 200:a.responseText&&(r=JSON.parse(a.responseText));break;default:t&&t(a.status,a.statusText)}},a.send(n)}return r&&r.title&&(document.title=r.title),r},b.openWindow=function(e,t,i){if(Function.requireArgumentNumber(arguments,2),Function.requireArgumentType(e,"object"),!(e instanceof Object))throw new TypeError("invalid pageinfo");var n,r,o,s=window.WindowNameEnum;if(e.url)n=e.url;else{if(!e.pathname)throw new TypeError("invalid url & pathname");n=location.hostname+e.pathname}if(t=t||s.SELF,!(i=i||window.open("",t)))throw new OpenWindowException("Failed to open window.Please check if url is correct or popup new window function is blocked!");(o=i.name?JSON.parse(i.name):{})[f.key]=e,r=JSON.stringify(o),i.name=r,i.location.assign(n)},f.key="$page",d.extend(f);t.RC4={decode:function(e,t){return this.encode(e,t)},encode:function(e,t){var i,n,r=e.length,o=t.length,s=[],a=[],u=0,c=0,h=0;for(n=0;n<256;++n)a[n]=n;for(n=0;n<256;++n)u=(u+(i=a[n])+e.charCodeAt(n%r))%256,a[n]=a[u],a[u]=i;for(u=0;c<o;++c)u=(u+(i=a[n=c%256]))%256,r=a[n]=a[u],a[u]=i,s[h++]=String.fromCharCode(t.charCodeAt(c)^a[(r+i)%256]);return s.join("")},key:function(e){for(var t=0,i=[];t<e;++t)i[t]=String.fromCharCode(1+(255*Math.random()<<0));return i.join("")}};function g(d){function g(e){if("object"!==(void 0===e?"undefined":m(e)))return e===undefined?"":String(e);if(e.isKindOf(Symbol))throw new TypeError("Cannot convert a Symbol value to a string");return e.toString()}this.apply=function(){!function t(){Object.prototype.getClass=function(){if(this.constructor&&this.constructor.toString()){if(this.constructor.name)return this.constructor.name;var e,t=this.constructor.toString();if((e="["===t.charAt(0)?t.match(/\[\w+\s*(\w+)\]/):t.match(/function\s*(\w+)/))&&2===e.length)return e[1]}return undefined},Object.prototype.overload=function(e,t){var i,n;if(e.length>t.length){for(i=t.length;i<e.length;i++)this[e[i]]=null;n=t.length}else n=e.length;for(i=0;i<n;i++)this[e[i]]=t[i]},Object.prototype.shallowCopy=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},Object.prototype.deinit=function(e){"delegate"in this&&(this.delegate=undefined),"dataSource"in this&&(this.dataSource=undefined),y["default"].removeObserver(this),e&&e.removeObserver(this)},Object.prototype.isMemberOf=function(e){if("function"==typeof e)return this.__proto__?this.__proto__===e.prototype:this.constructor===e;throw new TypeError("Class "+e+"'s value is not valid Class")},Object.prototype.isKindOf=function(e){if("function"==typeof e)return Function.requireArgumentNumber(arguments,1),this instanceof e;throw new TypeError("Class "+e+"'s value is not valid Class")},Object.isPlainObject=function(e){throw new TypeError("waiting to implement!")};var e=Object.prototype.toString;function h(e,t){for(var i=t.split("."),n=0;n<i.length-1;n++)if("object"!==(void 0===(e=e.valueForKey(i[n]))?"undefined":m(e)))throw new Error("KeyPath "+t+" is invalid for class "+this.getClass()+".");return{object:e,key:i[i.length-1]}}function r(e,t,i,n){for(var r=0;r<i.length;r++)if(i[r]===n)return 0===r?void i.shift():r===length-1?void i.pop():void i.splice(r,1);e.set(t,i)}Object.prototype.toString=function(){return this.getClass?"[object "+this.getClass()+"]":e.call(this)},Object.prototype.enablePrivateProperty=function(i,n){var t,r,o;for(var e in n)if(this.hasOwnProperty(e))throw new Error("Duplicate key "+e+".");"setPrivate"in this&&(t=this.getPrivate,r=this.setPrivate,o=this.superInitProperties),this.setPrivate=function(e,t){if(n.hasOwnProperty(e)&&i===this.constructor)n[e]=t;else{if("function"!=typeof r)throw new Error("Class "+this.getClass()+" doesn't have a property "+e+".");r(e,t)}},this.getPrivate=function(e){if(n.hasOwnProperty(e)&&i===this.constructor)return n[e];if("function"==typeof r)return t(e);throw new Error("Class "+this.getClass()+" doesn't have a property "+e+".")},this.initProperties=function(e){if(i===this.constructor){for(var t in e)if(e.hasOwnProperty(t)){if(n.hasOwnProperty(t))throw new Error("Class "+this.getClass()+" has already had a private property named '"+t+"'.");n[t]=e[t]}}else{if("function"!=typeof o)throw new Error("Class "+i+" and  constructor"+this.constructor+" mismatch.");o(e)}}},Object.prototype.setValueForKey=function(e,t){if(this.hasOwnProperty(e))this[e]=t;else{if(!this.setPrivate)throw new Error("Class "+this.getClass()+" doesn't have a property "+e+".");this.setPrivate(e,t)}},Object.prototype.setValuesForKeys=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setValueForKey(t,e[t])},Object.prototype.valueForKey=function(e){if(this.hasOwnProperty(e))return this[e];if(this.get)return this.get(e);throw new Error("Class "+this.getClass()+" doesn't have a property "+e+".")},Object.prototype.setValueForKeyPath=function(e,t){var i=h(this,e);i.object.setValueForKey(i.key,t)},Object.prototype.valueForKeyPath=function(e){var t=h(this,e);return t.object.valueForKey(t.key)},d.NSKeyValueObservingOptions={"new":0,old:1,initial:4,prior:8},Object.prototype.enableKVO=function(u,c){if(Function.requireArgumentNumber(arguments,1),!c.isKindOf(d.ListMap))throw new TypeError("observerListMap is not ListMap type");this.addObserver=function(e,r,t,o){if(Function.requireArgumentNumber(arguments,2),!(e instanceof Object))throw new TypeError("Observer must be object type.");if(!r||"string"!=typeof r)throw new TypeError("Key must be string type.");if(!c.has(r)){var i=h(this,r),n=this;if(i.object===this&&u.hasOwnProperty(i.key)&&(n=u),c.append(r,n[r]),!Object.defineProperty)throw new TypeError("Object.defineProperty is not supported in this browser");Object.defineProperty(n,r,{set:function s(e){var t=c.getAll(r),i=t[0];t[0]=e;for(var n=1;n<t.length;n++)"function"==typeof t[n].observer.observeValue&&t[n].observer.observeValue(this,r,this,{old:i,"new":e},o)},get:function a(e){return c.get(e)[0]}})}c.append(r,{observer:e,context:o})},this.removeObserver=function(i,e,t){if(e){var n=c.getAll(e);r(c,e,n,i)}else c.forEach(function(e,t){r(c,t,e,i)})}}}(),function e(){Function.prototype.extend=function(e){Function.requireArgumentType(e,"function"),Function.requireArgumentType(this,"function");var t=function t(){};t.prototype=e.prototype,this.prototype=new t,this.prototype.constructor=this},Function.prototype.getName=function(e){if(e.name)return e.name;var t=e.toString().replace(/[\s\?]*/g,""),i=50<=t.length?50:t.length,n=(t=t.substring(0,i)).match(/^function([^\(]+?)\(/);if(n&&n[1])return n[1];if(e.caller){var r=e.caller.toString().replace(/[\s\?]*/g,""),o=r.indexOf(t);if((n=r.substring(o-30,o).match(/var([^\=]+?)\=/))&&n[1])return n[1]}var s=(new Error).stack;return s&&(n=s.match(/Function.getName.*\n    at (.*) \(/))&&n[1]?n[1].replace("new window.","").replace("new ",""):"anonymous"},Function.requireArgumentNumber=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},Function.requireArgumentType=function(e,t){var i,n=t.toFirstUpperCase(),r=d[n]["is"+n];if(r?i=r(e):(i=e instanceof d[n])||(i=(void 0===e?"undefined":m(e))===t),!i)throw new TypeError((void 0===e?"undefined":m(e))+" "+e+" is not a "+t)}}(),function i(){function t(e,t){this.message=e,this.stack=(new Error).stack,this.name=t||"Exception"}d.WindowNameEnum={SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},d.HttpMethodEnum={POST:"POST",DELETE:"DELETE",PUT:"PUT",GET:"GET",HEAD:"HEAD",TRACE:"TRACE",OPTIONS:"OPTIONS",PATCH:"PATCH"},d.TypeEnum={NUMBER:"number",STRING:"string",NULL:"null",ARRAY:"array",UNDEFINED:"undefined",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean"},t.extend(Error),d.Exception=t,d.Error.prototype.printStackTrace=function(){this.stack?d.print(this.stack):d.console.log("No stack exists!Maybe you are using old version of IE.\nname:"+this.name+"\nfunctionName:"+this.functionName+"\nlineNumber:"+this.lineNumber+"\nmessage:"+this.message)},d.MalformedURLException=function(e){t.call(this,e,"MalformedURLException")},d.MalformedURLException.extend(t),d.OpenWindowException=function(e){t.call(this,e,"OpenWindowException")},d.OpenWindowException.extend(t),d.InvalidParameterException=function(e){t.call(this,e,"InvalidParameterException")},d.InvalidParameterException.extend(t),d.execScript||(d.execScript=function(e,t){if(t&&0<=t.toUpperCase().indexOf("VB"))throw new TypeError("VBScript is not supported in this browser");d.eval.call(d,e)}),d.document.ready=function(e){e&&(document.attachEvent?document.attachEvent("onreadystatechange",function t(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),e())}):document.addEventListener?document.addEventListener("DOMContentLoaded",function i(){document.removeEventListener("DOMContentLoaded",i,!1),e()},!1):document.lastChild===document.body&&e())}}(),function n(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.toFirstUpperCase||(String.prototype.toFirstUpperCase=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return(t=t===undefined?0:Number(t))<0&&(t=0),this.indexOf(String(e))===t},String.prototype.endsWith=function(e,t){var i=this.indexOf(String(e));return-1!==i&&((t=t===undefined?this.length:Number(t))<0&&(t=0),i+e.length===t)}),String.prototype.get||(String.prototype.get=function(e){Function.requireArgumentNumber(arguments,1);var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):null},String.prototype.set=function(e,t,i,n,r){Function.requireArgumentNumber(arguments,2);var o=new Date;t=t||"",i=i||-2592e3,n=n||document.domain,(null===t||i<=0)&&(t="",i=-2592e3),isNaN(i)||o.setTime(o.getTime()+1e3*i),document.cookie=e+"="+encodeURIComponent(t)+(o?"; expires="+o.toGMTString():"")+"; path="+r+(n?"; domain="+n:"")}),String.isString=function(e){return Function.requireArgumentNumber(arguments,1),e instanceof Object?e.isKindOf(String):"[object String]"===Object.prototype.toString.call(e)},String.prototype.byteLength=function(){for(var e=0,t=0;t<this.length;t++)127<this.charCodeAt(t)||this.charCodeAt(t)<0?e+=2:e++;return e}}(),function r(){Array.prototype.remove=function(e){Function.requireArgumentNumber(arguments,1);var t=this.indexOf(e);if(-1<t)return this.splice(t,1)}}(),function o(){Number.isNumber||(Number.isNumber=function(e){return Function.requireArgumentNumber(arguments,1),e instanceof Object?e.isKindOf(Number):"[object Number]"===Object.prototype.toString.call(e)})}(),function s(){d.Element||(d.Element=function(){}),Element.isElement=function(e){return Function.requireArgumentNumber(arguments,1),e instanceof Object&&1===e.nodeType}}(),function f(){function r(e){var t=0;this.next=function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0,value:undefined}}}if(!d.Map&&!d.Set){var n=new Map,i=!1;d.Symbol=function a(e){if(!i){if(this.constructor===a)throw new TypeError("Symbol is not a constructor");return i=!0,new a(e)}var t=String(+new Date);e=g(e),this.toString=function(){return e?"Symbol("+e+")@"+t:"Symbol()@"+t},i=!1},Symbol["for"]=function(e){var t;return e=e===undefined?"undefined":g(e),n.has(e)?n.get(e):(t=Symbol(e),n.set(e,t),t)},Symbol.keyFor=function(e){if(!e.isMemberOf(Symbol))throw new TypeError((void 0===e?"undefined":m(e))+" is not a symbol");for(var t,i=n.entries();!(t=i.next()).done;)if(t.value[1]===e)return t.value[0];return undefined},d.Map=function(e){var n=[];if(this.clear=function(){n=[]},this["delete"]=function(t){var e=n.findIndex(function(e){return e[0]===t});return 0<=e&&(n.splice(e,1),!0)},this.get=function(t){var e=n.find(function(e){return e[0]===t});return e?e[1]:undefined},this.has=function(t){return n.some(function(e){return e[0]===t})},this.set=function(t,e){var i=n.find(function(e){return e[0]===t});return i?i[1]=e:n.push([t,e]),this},this.getSize=function(){return n.length},this.keys=function(){return new MapIterator(n.slice(),"keys")},this.values=function(){return new MapIterator(n.slice(),"values")},this.entries=function(){return new MapIterator(n.slice(),"entries")},e){if(!(e instanceof Object&&e[Symbol.iterator]))throw new TypeError((void 0===e?"undefined":m(e))+" "+e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(var t,i,r=e[Symbol.iterator]();!(i=r.next()).done;){if(!(t=i.value).isKindOf(Object))throw new TypeError("Iterator value "+t+" is not an entry object");Array.isArray(t)?this.set(t[0],t[1]):this.set()}}};var o=function o(e,t){r.call(this,e);var i=this.next,n=s[t];this.next=function(){return n(i.call(this,e))}},s={keys:function t(e){return e.value=e.value[0],e},values:function u(e){return e.value=e.value[1],e},entries:function c(e){return e}};o.extend(r),Map.prototype.forEach=function(e,t){Function.requireArgumentType(e,d.TypeEnum.FUNCTION);for(var i,n=this.entries();i=n.next().value;)e.call(t,i[1],i[0],this)},Map.prototype[Symbol.iterator]=Map.prototype.entries,d.WeakMap=function(e){var i=new Map;if(this["delete"]=function(e){return e instanceof Object&&i["delete"](e)},this.get=i.get,this.has=i.has,this.set=function(e,t){if(!(e instanceof Object))throw new TypeError("Invalid value used as weak map key");return i.set(e,t),this},e){if(!(e instanceof Object&&e[Symbol.iterator]))throw new TypeError((void 0===e?"undefined":m(e))+""+e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(var t,n,r=e[Symbol.iterator]();!(n=r.next()).done;){if(!(t=n.value).isKindOf(Object))throw new TypeError("Iterator value "+t+" is not an entry object");if(!(Array.isArray(t)&&t[0]&&t[0]instanceof Object))throw new TypeError("Invalid value used as weak map key");this.set(t[0],t[1])}}},d.Set=function(e){var t=new Map;if(this.add=function(e){return t.set(e,e),this},this.clear=t.clear,this["delete"]=t["delete"],this.has=t.has,this.getSize=t.getSize,this.entries=function(){return new SetIterator(t.entries())},this.values=function(){return new SetIterator(t.values())},this.keys=this.values,e){if(!(e instanceof Object&&e[Symbol.iterator]))throw new TypeError((void 0===e?"undefined":m(e))+" "+e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(var i,n=e[Symbol.iterator]();!(i=n.next()).done;)t.set(i.value,i.value)}},function h(e){this.next=function(){return e.next()}}.extend(r),Set.prototype.forEach=Map.prototype.forEach,Set.prototype[Symbol.iterator]=Set.prototype.values,d.WeakSet=function(e){var t=new Set;if(this.add=function(e){if(e instanceof Object)return t.add(e),this;throw new TypeError("Invalid value used in weak set")},this["delete"]=t["delete"],this.has=t.has,e){if(!(e instanceof Object&&e[Symbol.iterator]))throw new TypeError((void 0===e?"undefined":m(e))+""+e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(var i,n=e[Symbol.iterator]();!(i=n.next()).done;){if(!(i.value instanceof Object))throw new TypeError("Invalid value used in weak set");t.add(i.value)}}}}d.ListMap=function(e){var t,n=new Map;if(this.append=function(e,t){var i=n.get(e);return i||(i=[],n.set(e,i)),i.push(t),this},this["delete"]=function(e){return n["delete"](e)},this.get=function(e){return(t=n.get(e))?t[0]:undefined},this.getAll=function(e){return(t=n.get(e))?t.slice(0):[]},this.has=function(e){return n.has(e)},this.set=function(e,t){return n.set(e,[t])},this.entries=function(){return new ListMapIterator(n.entries())},this.values=function(){return new ListMapIterator(n.values())},this.keys=function(){return new ListMapIterator(n.keys())},e){if(!(e instanceof Object&&e[Symbol.iterator]))throw new TypeError((void 0===e?"undefined":m(e))+""+e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(var i,r,o=e[Symbol.iterator]();!(r=o.next()).done;){if(!(i=r.value).isKindOf(Object))throw new TypeError("Iterator value "+i+" is not an entry object");Array.isArray(i)?Array.isArray(i[1])?this.set(i[0],i[1]):this.set(i[0],[i[1]]):this.set()}}},function l(e){SetIterator.call(this,e)}.extend(r),ListMap.prototype.forEach=Map.prototype.forEach,d.SetMap=function(e){var t,n=new Map;if(this.append=function(e,t){var i=n.get(e);return i||(i=new Set,n.set(e,i)),i.add(t),this},this["delete"]=function(e){return n["delete"](e)},this.get=function(e){return(t=n.get(e))?t.values().next().value:null},this.getAll=function(e){return n.get(e)},this.has=function(e){return n.has(e)},this.set=function(e,t){return n.set(e,new Set([t]))},this.entries=function(){return new SetMapIterator(n.entries())},this.values=function(){return new SetMapIterator(n.values())},this.keys=function(){return new SetMapIterator(n.keys())},e){if(!(e instanceof Object&&e[Symbol.iterator]))throw new TypeError((void 0===e?"undefined":m(e))+""+e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(var i,r,o=e[Symbol.iterator]();!(r=o.next()).done;){if(!(i=r.value).isKindOf(Object))throw new TypeError("Iterator value "+i+" is not an entry object");Array.isArray(i)?i[1].isKindOf(Set)?this.set(i[0],i[1]):this.set(i[0],new Set([i[1]])):this.set()}}},function p(e){SetIterator.call(this,e)}.extend(r),SetMap.prototype.forEach=Map.prototype.forEach}()},this.applyMobile=function(){Event||(d.Event=function(){throw new TypeError("This browser doesn't support instantiation of class Event")}),d.EventTypeEnum={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",values:["touchstart","touchmove","touchend","touchcancel"]}}}var v=new y;function y(){if(v)throw new TypeError(this.getClass()+" could be instantiated only once!");var o=[];this.addObserver=function(e,t,i,n){if(Function.requireArgumentNumber(arguments,3),i=i||null,n=n||null,"object"!==(void 0===e?"undefined":m(e))||"function"!=typeof t||"string"!=typeof i&&null!==i||"object"!==(void 0===n?"undefined":m(n))&&null!==n)throw new TypeError("Invalid parameters.");o.push({observer:e,selectors:t,name:i,object:n})},this.post=function(e,t,i){if(Function.requireArgumentNumber(arguments,1),t=t||null,"string"!=typeof e)throw new TypeError("Variable 'name' must be string type");if(o)for(var n=0;n<o.length;n++)if(!(o[n].name!==e&&null!==o[n].name||o[n].object!==t&&null!==o[n].object))try{o[n].selectors({name:e,object:t,userInfo:i})}catch(r){r.printStackTrace()}},this.removeObserver=function(e,t,i){Function.requireArgumentNumber(arguments,1);for(var n=o.length-1;0<=n;n--)t&&t!==o[n]||i&&i!==o[n]||o.splice(n,1)}}function T(){this.isEnabled=!0,this.title="",this.image="",this.landscapeImagePhone="",this.largeContentSizeImage="",this.imageInsets=null,this.landscapeImagePhoneInsets=null,this.largeContentSizeImageInsets=null,this.tag=0}function w(e){pe.call(this,e)}y["default"]=v,T.prototype.setTitleTextAttributes=function(e,t){},T.prototype.titleTextAttributes=function(e){},w.extend(pe);var b=w.prototype;function S(e){N.call(this,e);var t=new R,i=new I;this.setPrivate("titleLabel",t),this.setPrivate("imageView",i),this.addSubView(t),this.addSubView(i)}function E(e){pe.call(this,e)}S.extend(N),(b=S.prototype).getTitleLabel=function(){return this.getPrivate("titleLabel")},b.getImageView=function(){return this.getPrivate("imageView")},E.extend(pe);b=E.prototype;function O(e){pe.call(this,e)}O.extend(pe);b=O.prototype;var P=t.BCSControlContentVerticalAlignmentEnum={center:0,top:1,bottom:2,fill:3},C=t.BCSControlContentHorizontalAlignmentEnum={center:1,left:2,right:3,fill:4,leading:5,trailing:6},A=t.BCSControlState={normal:1,highlighted:2,disabled:3,selected:4,focused:5,application:6,reserved:7};t.BCSControlEvent={touchDown:1,touchDownRepeat:2,touchDragInside:3,touchDragOutside:4,touchDragEnter:5,touchDragExit:6,touchUpInside:7,touchUpOutside:8,touchCancel:9,valueChanged:10,primaryActionTriggered:11,editingDidBegin:12,editingChanged:13,editingDidEnd:14,editingDidEndOnExit:15,allTouchEvents:16,allEditingEvents:17,applicationReserved:18,systemReserved:19,allEvents:20};function N(e,t){pe.call(this,e,t),this.isEnabled=!0,this.isSelected=!1,this.isHighlighted=!1,this.ontentVerticalAlignment=P.center,this.contentHorizontalAlignment=C.center,this.initProperties({state:A.normal})}function B(e){pe.call(this,e)}N.extend(pe),(b=N.prototype).getEffectiveContentHorizontalAlignment=function(){return this.getPrivate("effectiveContentHorizontalAlignment")},b.getState=function(){return this.getPrivate("state")},b.getIsTracking=function(){return this.getPrivate("isTracking")},b.getIsTouchInside=function(){return this.getPrivate("isTouchInside")},b.getAllTargets=function(){return this.getPrivate("allTargets")},b.getAllControlEvents=function(){return this.getPrivate("allControlEvents")},b.get=function(){return this.getPrivate("")},b.beginTracking=function(e,t){},b.continueTracking=function(e,t){},b.endTracking=function(e,t){},b.cancelTracking=function(e){},b.addTarget=function(e,t,i){},b.removeTarget=function(e,t,i){},b.actions=function(e,t){},b.sendAction=function(e,t,i){},b.sendActions=function(e){},B.extend(pe);b=B.prototype;function I(e,t){BCSView1.call(this,e,"img"),t&&(this.getLayer().src=t),this.isUserInteractionEnabled=!1,this.highlightedImage=null,this.isHighlighted=!1,this.animationImages=[],this.highlightedAnimationImages=[],this.animationDuration=0,this.animationRepeatCount=0,this.tintColor=0,this.isAnimating=!1}function R(e){BCSView1.call(this,e,"label")}function L(){}I.extend(pe),(b=I.prototype).startAnimating=function(){},b.stopAnimating=function(){},R.extend(pe),(b=R.prototype).setText=function(e){var t=this.getLayer();"innerText"in t?t.innerText=e:t.textContent=e},L.extend(S);function D(){BCSView1.call(this,D.style),this.isTranslucent=!1,this.delegate=null}D.extend(pe),D.style={width:"100%",height:"44px",backgroundColor:"rgba(255,255,255,0.8)"};var x=t.LargeTitleDisplayModeEnum={automatic:1,always:2,never:3};function V(e){pe.call(this,e),this.title="",this.titleView=new pe,this.prompt="",this.backBarButtonItem=new w,this.hidesBackButton=!1,this.largeTitleDisplayMode=x.automatic,this.hidesSearchBarWhenScrolling=!1,this.searchController=new s;var t=[],i=[];this.getLeftBarButtonItems=function(){return t},this.getRightBarButtonItems=function(){return i}}function F(e){pe.call(this,e)}V.extend(pe),(b=V.prototype).setHidesBackButton=function(e,t){},b.setLeftBarButtonItems=function(e,t){},b.setRightBarButtonItems=function(e,t){},F.extend(pe);b=F.prototype;function M(e){pe.call(this,e)}M.extend(pe);b=M.prototype;function q(e,t){this.x=Number(e)||0,this.y=Number(t)||0}function k(e,t){this.width=Number(e)||0,this.height=Number(t)||0}function G(e,t){this.dx=Number(e)||0,this.dy=Number(t)||0}function j(e,t){return new G(Number(t.x-e.x),Number(t.y-e.y))}function H(e,t){this.origin=e||new q,this.size=t||new k}function _(e,t,i,n){this.top=e||0,this.left=t||0,this.bottom=i||0,this.right=n||0}function z(e){pe.call(this,e)}q.prototype.equalTo=function(e){return this.x===e.x&&this.y===e.y},q.prototype.distanceFrom=function(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))},q.zero=new q,k.zero=new q,G.prototype.equalTo=function(e){return this.dx===e.dx&&this.dy===e.dy},G.prototype.getLength=function(){return Math.sqrt(Math.pow(this.dx,2)+Math.pow(this.dy,2))},G.prototype.intersectionAngleWith=function(e){var t=e.dx*this.dy-this.dx*e.dy;return 0===t?0:Math.acos((this.dx*e.dx+this.dy*e.dy)/(this.getLength()*e.getLength()))*t/Math.abs(t)},_.zero=new _,z.extend(pe);b=z.prototype;function U(e){N.call(this,e)}U.extend(N),(b=U.prototype).getIsRefreshing=function(){},b.beginRefreshing=function(){},b.endRefreshing=function(){};var W=t.BCSScrollViewIndicatorStyleEnum={Default:0,black:1,white:2},K=t.BCSScrollViewKeyboardDismissModeEnum={none:0,onDrag:1,interactive:2},X=t.BCSScrollViewIndexDisplayModeEnum={automatic:0,alwaysHidden:1};t.BCSScrollViewContentInsetAdjustmentBehaviorEnum={automatic:0,scrollableAxes:1,never:2,always:3};function Y(e,t){pe.call(this,e,t),this.initProperties({adjustedContentInset:_.zero,isTracking:!1,isDragging:!1,isDecelerating:!1}),this.contentOffset=q.zero,this.contentSize=k.zero,this.contentInset=_.zero,this.contentInsetAdjustmentBehavior=null,this.delegate=null,this.isDirectionalLockEnabled=!1,this.bounces=!0,this.alwaysBounceVertical=!1,this.alwaysBounceHorizontal=!1,this.isPagingEnabled=!1,this.isScrollEnabled=!0,this.showsHorizontalScrollIndicator=!0,this.showsVerticalScrollIndicator=!0,this.scrollIndicatorInsets=_.zero,this.indicatorStyle=W.Default,this.decelerationRate=J.normal,this.indexDisplayMode=X.automatic,this.delaysContentTouches=!0,this.canCancelContentTouches=!0,this.minimumZoomScale=1,this.maximumZoomScale=1,this.zoomScale=1,this.bouncesZoom=!0,this.scrollsToTop=!0,this.keyboardDismissMode=K.none}function J(e){}function Z(e){pe.call(this,e)}Y.extend(pe),(b=Y.prototype).getContentLayoutGuide=function(){return this.getPrivate("contentLayoutGuide")},b.getFrameLayoutGuide=function(){return this.getPrivate("frameLayoutGuide")},b.getIsTracking=function(){return this.getPrivate("isTracking")},b.getIsDragging=function(){return this.getPrivate("isDragging")},b.getIsDecelerating=function(){return this.getPrivate("isDecelerating")},b.getIsZooming=function(){return this.getPrivate("isZooming")},b.getIsZoomBouncing=function(){return this.getPrivate("isZoomBouncing")},b.getPanGestureRecognizer=function(){return this.getPrivate("panGestureRecognizer")},b.getPinchGestureRecognizer=function(){return this.getPrivate("pinchGestureRecognizer")},b.getDirectionalPressGestureRecognizer=function(){return this.getPrivate("directionalPressGestureRecognizer")},b.adjustedContentInsetDidChange=function(){},b.setContentOffset=function(e,t){},b.scrollRectToVisible=function(e,t){},b.flashScrollIndicators=function(e,t){},b.touchesShouldBegin=function(e,t,i){},b.touchesShouldCancel=function(e){},b.setZoomScale=function(e,t){},b.zoom=function(e,t){},J.normal=new J,J.fast=new J,Z.extend(pe);b=Z.prototype;function Q(e){pe.call(this,e)}Q.extend(pe);b=Q.prototype;function $(){BCSView1.call(this,{bottom:"0px",width:"100%"})}$.extend(pe);b=$.prototype;function ee(e){pe.call(this,e)}ee.extend(pe);b=ee.prototype;function te(){}te.extend(Y);b=te.prototype;var ie={none:1,blue:2,gray:3,Default:4},ne={Default:1,custom:2},re={none:1,"delete":2,insert:3},oe={none:1,disclosureIndicator:2,detailDisclosureButton:3,checkmark:4,detailButton:5};function se(e,t){pe.call(this,e,t);this.initProperties({}),this.backgroundView=null,this.selectedBackgroundView=null,this.multipleSelectionBackgroundView=null,this.selectionStyle=ie.Default,this.isSelected=!1,this.isHighlighted=!1,this.showsReorderControl=!1,this.shouldIndentWhileEditing=!0,this.accessoryType=oe.none,this.accessoryView=null,this.editingAccessoryType=re.none,this.editingAccessoryView=null,this.indentationLevel=0,this.indentationWidth=10,this.separatorInset=null,this.isEditing=!1,this.focusStyle=ne.Default,this.userInteractionEnabledWhileDragging=!1}function ae(e){pe.call(this,e)}se.extend(pe),(b=se.prototype).getImageView=function(){return this.getPrivate("imageView")},b.getTextLabel=function(){return this.getPrivate("textLabel")},b.getDetailTextLabel=function(){return this.getPrivate("detailTextLabel")},b.getContentView=function(){return this.getPrivate("contentView")},b.getReuseIdentifier=function(){return this.getPrivate("reuseIdentifier")},b.getEditingStyle=function(){return this.getPrivate("editingStyle")},b.getShowingDeleteConfirmation=function(){return this.getPrivate("showingDeleteConfirmation")},b.prepareForReuse=function(){},b.setSelected=function(e,t){},b.setHighlighted=function(e,t){},b.setEditing=function(e,t){},b.willTransition=function(e){},b.didTransition=function(e){},b.dragStateDidChange=function(e){},ae.extend(pe);b=ae.prototype;function ue(e){pe.call(this,e,"textarea")}ue.extend(pe);var ce={width:"100%",height:"44px",bottom:"0px",backgroundColor:"red"};function he(){BCSView1.call(this,ce)}he.extend(pe);b=he.prototype;var le="view";function pe(e,t){t||(t=document.createElement("div"));var i={layer:t,subViews:function r(e){var t=[];if(0<e.children.length)for(var i=e.children,n=0;n<e.children.length;n++)t.push(new pe(i[n]));return t}(t),gestureRecognizers:[]};this.enablePrivateProperty(i),"object"===(void 0===e?"undefined":m(e))?e.hasOwnProperty("position")||(e.position="absolute"):e={position:"absolute"},this.setStyle(e),t.setAttribute(le,this.getClass())}(b=pe.prototype).getLayer=function(){return this.getPrivate("layer")},b.getSubViews=function(){return this.getPrivate("subViews")},b.getGestureRecognizers=function(){return this.getPrivate("gestureRecognizers")},b.addSubView=function(e){var t=this.getSubViews(),i=this.getLayer().children.length;if(this.getLayer().appendChild(e.getLayer()),this.getLayer().children.length===i)for(var n=0;n<t.length;n++)if(t[n].getLayer()===e.getLayer()){t.splice(n,1);break}t.push(e)},b.addGestureRecognizer=function(e){this.removeGestureRecognizer(e),e.setPrivate("view",this),this.getGestureRecognizers().push(e),this.get("isListenersAdded")||(!function h(t){var i,n,r,o,s,a,u,c=function c(e){for(u=t.getGestureRecognizers(),o=[],s=0;s<u.length;s++)if((r=u[s]).isEnabled){if(n=[],i=r.delegate,e.type===EventTypeEnum.TOUCH_START)if(i&&i.shouldReceiveTouch)for(a=0;a<e.changedTouches.length;a++)i.shouldReceiveTouch(r,e.changedTouches[a])&&n.push(e.changedTouches[a]);else for(a=0;a<e.changedTouches.length;a++)n.push(e.changedTouches[a]);else{if(r.state>=fe.ENDED)continue;for(a=0;a<e.changedTouches.length;a++)r.hasAvailableTouch(e.changedTouches[a])&&n.push(e.changedTouches[a]);if(0===n.length)continue}switch(e.type){case EventTypeEnum.TOUCH_START:for(r.touchesBegan(n,e),a=s+1;a<u.length;a++)r.shouldRequireFailureOf(u[a])?u[a].addDependent(r):i&&i.shouldRequireFailureOf&&i.shouldRequireFailureOf(r,u[a])?u[a].addDependent(r):r.shouldBeRequiredToFailBy(u[a])?r.addDependent(u[a]):i&&i.shouldBeRequiredToFailBy&&i.shouldBeRequiredToFailBy(r,u[a])&&r.addDependent(u[a]);break;case EventTypeEnum.TOUCH_MOVE:r.touchesMoved(n,e);break;case EventTypeEnum.TOUCH_END:r.touchesEnded(n,e),r.state===fe.POSSIBLE&&r.removeAvailableTouches(n);break;case EventTypeEnum.TOUCH_CANCEL:r.touchesCancelled(n,e)}console.log(new Date,(new Date).getMilliseconds(),e.type,r.name,"state:",r.state,r.getNumberOfTouches(),e.touches,e.targetTouches,e.changedTouches),r.state>=fe.BEGAN&&o.push(r)}t.executeStateChangedRecognizers(o)};EventTypeEnum.values.forEach(function(e){t.getLayer().addEventListener(e,c)})}(this),this.set("isListenersAdded",!0))},b.removeGestureRecognizer=function(e){var t=this.getGestureRecognizers();e.setPrivate("view",null);for(var i=0;i<t.length;i++)t[i]===e&&t.splice(i,1)},b.gestureRecognizerShouldBegin=function(e){return!0},b.removeSubView=function(e){for(var t=this.getSubViews(),i=0;i<t.length;i++)if(t[i]===e)return t.splice(i,1),void this.getLayer().removeChild(e.getLayer())},b.setStyle=function(t){var i,n,r,e="",o=this.getLayer();if(window.cssSandpaper&&(["transform","opacity","boxShadow","textShadow"].forEach(function(e){t.hasOwnProperty(e)&&(i=t[e],delete t[e],window.cssSandpaper["set"+e.toFirstUpperCase()](o,i))}.bind(this)),(n=t.backgroundImage||t.background)&&(["rgba","hsla"].forEach(function(e){(r=new RegExp(e+"\\s*?\\((.*?)\\)").exec(n))&&window.cssSandpaper["set"+e.toUpperCase()+"Background"](this.getLayer(),r[1])}.bind(this)),(r=/(-(webkit|o|moz)-)?(repeating-radial|repeating-linear|radial|linear)-gradient\s*?\((.*)\)/.exec(n))&&window.cssSandpaper.setGradient(o,"-sand-gradient("+r[3]+","+r[4]+")")),t.hasOwnProperty("color"))){var s=/hsl\((.*?)\)/.exec(t.color);s&&window.cssSandpaper.setHSLColor(o,"color",s[1])}for(var a in window.PIE&&(t.borderRadius||t.borderImage||t.backgroundAttachment||t.background&&-1!==t.background.indexOf("url")||t.backgroundSize||t.backgroundRepeat||t.backgroundOrigin||t.backgroundClip||"IMG"===o.nodeName)&&window.PIE.attach(o),t)t.hasOwnProperty(a)&&(e+=a.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})+":"+t[a]+";");"undefined"!=typeof o.style.cssText?o.style.cssText+=";"+e:o.setAttribute("style",e)},b.getStyle=function(e){return"string"==typeof e?Number(window.getComputedStyle(this.getLayer())[e].replace("px","")):window.getComputedStyle(this.getLayer())},b.setHTML=function(e){var t=this.getLayer();e===undefined?t.innerHTML="":"string"==typeof e&&(t.innerHTML=e)},pe.findViewById=function(e){var t=document.getElementById(e);if(t){var i=window[t.getAttribute(le)];return i||(i=window["BCS"+t.tagName.toFirstUpperCase()]),i?new i(null,t):("div"!==t.tagName&&console.log(e+" is initialized as BCSView."),new pe(null,t))}return null},b.executeStateChangedRecognizers=function(e){var t=this.getGestureRecognizers();if(0<e.length){for(var i=0;i<e.length;i++)switch(t[i].state){case fe.CHANGED:case fe.BEGAN:case fe.ENDED:for(var n=0;n<t.length;n++)if(e[n].state!==fe.FAILED&&e[i]!==e[n]&&e[n].state!==fe.CANCELLED){if(e[i].hasDependent(t[n])){e[n].state=fe.FAILED,e.push(e[n]);continue}if(!e[i].canPrevent(t[n])||!t[n].canBePrevented(e[i]))continue;e[i].delegate&&e[i].delegate.shouldRecognizeSimultaneouslyWith&&e[i].delegate.shouldRecognizeSimultaneouslyWith(e[i],t[n])||t[n].delegate&&t[n].delegate.shouldRecognizeSimultaneouslyWith&&t[n].delegate.shouldRecognizeSimultaneouslyWith(t[n],e[i])||(t[n].state=fe.FAILED,e.push(e[n]))}}e.forEach(function(e){switch(e.state){case fe.BEGAN:case fe.CHANGED:e.executeActions();break;case fe.ENDED:e.executeActions(),e.ignoreAvailableTouches();break;case fe.FAILED:case fe.CANCELLED:e.ignoreAvailableTouches()}}),e.forEach(function(e){e.state>=fe.ENDED&&e.reset()})}},Object.prototype.shallowCopy.call(window,e.exports);var fe=t.BCSGestureRecognizerStateEnum={POSSIBLE:0,BEGAN:1,CHANGED:2,ENDED:3,CANCELLED:4,FAILED:5},de=750,ge=350,me=45,ve=75,ye=500,Te=8,we=.1,be=10;function Se(e,t){Function.requireArgumentType(e,"object"),Function.requireArgumentType(t,"function");var i={actionMap:new Map,view:null,availableTouches:{},dependentSet:new Set};this.enablePrivateProperty(i),this.state=fe.POSSIBLE,this.delegate=null,this.isEnabled=!0,this.cancelsTouchesInView=!0,this.delaysTouchesBegan=!1,this.delaysTouchesEnded=!0,this.allowedTouchTypes=[],this.requiresExclusiveTouchType=!0,this.name=this.getClass(),this.addTarget(e,t)}function Ee(e,t,i){for(var n=this.getPrivate("availableTouches"),r=0;r<t.length;r++)i?n.hasOwnProperty(t[r].identifier)&&(n[t[r].identifier]=t[r]):n[t[r].identifier]=t[r]}function Oe(e,t){Se.call(this,e,t),this.numberOfTapsRequired=0,this.numberOfTouchesRequired=1,this.minimumPressDuration=.5,this.allowableMovement=10;var i={numberOfContinualTaps:0,initTapStartLocation:new q,currentTouchBeganTimeStamp:0,numberOfOffTouches:0,isAvailableTouchesRemovable:!1,timer:undefined};this.initProperties(i)}function Pe(e,t){e.setPrivate("timer",setTimeout(function(){e.state!==fe.FAILED&&(e.state=fe.FAILED,e.ignoreAvailableTouches(),e.reset()),console.log("reset")},t))}function Ce(e,t){Se.call(this,e,t),this.minimumNumberOfTouches=1,this.maximumNumberOfTouches=Number.MAX_SAFE_INTEGER;var i={initLocation:null,panLocation:null,lastTimestamp:0,translation:new q(0,0),velocity:new q(0,0)};this.initProperties(i)}function Ae(e,t,i){var n=(t.timeStamp-e.getPrivate("lastTimestamp"))/1e3,r=i.x-e.getPrivate("panLocation").x,o=i.y-e.getPrivate("panLocation").y,s=e.getPrivate("translation");e.setPrivate("translation",new q(s.x+r,s.y+o)),e.setPrivate("velocity",new q(r/n,o/n)),e.setPrivate("panLocation",i),e.setPrivate("lastTimestamp",t.timeStamp)}(b=Se.prototype).reset=function(){this.setPrivate("availableTouches",{}),this.setPrivate("dependentSet",new Set)},b.addDependent=function(e){this.getPrivate("dependentSet").add(e)},b.hasDependent=function(e){return this.getPrivate("dependentSet").has(e)},b.ignoreAvailableTouches=function(){var e=this.getPrivate("availableTouches"),t=this.getPrivate("event");for(var i in e)e.hasOwnProperty(i)&&this.ignore(e[i],t)},b.ignore=function(e,t){delete this.getPrivate("availableTouches")[e.identifier]},b.getNumberOfTouches=function(){return Object.keys(this.getPrivate("availableTouches")).length},b.hasAvailableTouch=function(e){return this.getPrivate("availableTouches").hasOwnProperty(e.identifier)},b.removeAvailableTouches=function(e){var t=this.getPrivate("availableTouches");if(e)for(var i=0;i<e.length;i++)delete t[e[i].identifier];else this.setPrivate("availableTouches",{})},b.locate=function(e){var t=this.getPrivate("availableTouches"),i=Object.keys(t).length;if(e&&0<i){var n=0,r=0;for(var o in t)t.hasOwnProperty(o)&&(n+=t[o].pageX,r+=t[o].pageY);return new q(n/i-e.getStyle("left"),r/i-e.getStyle("top"))}return new q},b.locateTouch=function(e,t){var i=this.getPrivate("availableTouches");if(t&&0<=e){var n=Object.keys(i)[e];if(n)return new q(i[n].pageX-t.getStyle("left"),i[n].pageY-t.getStyle("top"));throw new TypeError("Index out of bounds")}throw new Error("Could not locate touch.")},b.require=function(e){},b.canPrevent=function(e){return!0},b.canBePrevented=function(e){return!0},b.shouldRequireFailure=function(e){return!1},b.shouldBeRequiredToFail=function(e){return!1},b.addTarget=function(e,t){var i=this.getPrivate("availableTouches");e&&t&&(Function.requireArgumentType(e,"object"),Function.requireArgumentType(t,"function"),i.set(t,e))},b.removeTarget=function(i,e){var n=this.getPrivate("availableTouches");e?n["delete"](e):i?n.forEach(function(e,t){e===i&&n["delete"](t)}):n.clear()},b.getView=function(){return this.getPrivate("view")},b.executeActions=function(){this.getPrivate("availableTouches").forEach(function(e,t){t.call(e,this)}.bind(this))},b.touchesBegan=function(e,t){Ee(0,e)},b.touchesMoved=function(e,t){Ee(0,e,!0)},b.touchesEnded=function(e,t){Ee(0,e,!0)},b.touchesCancelled=function(e,t){this.state=fe.CANCELLED},Oe.extend(Se),(b=Oe.prototype).getNumberOfTouches=function(){return Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired&&this.getPrivate("numberOfContinualTaps")===this.numberOfTapsRequired?this.numberOfTouchesRequired:0},b.locate=function(e){return 0<this.getNumberOfTouches()?Se.locate(e):new q(-e.getStyle("left"),-e.getStyle("top"))},b.locateTouch=function(e,t){return 0<this.getNumberOfTouches()?Se.prototype.locateTouch(e,t):Se.prototype.locateTouch(-1,t)},b.reset=function(){Se.prototype.reset.call(this),this.setPrivate("numberOfContinualTaps",0),this.setPrivate("initTapStartLocation",new q),this.setPrivate("currentTouchBeganTimeStamp",0),this.setPrivate("numberOfOffTouches",0),this.setPrivate("isAvailableTouchesRemovable",!1),clearTimeout(this.getPrivate("timer")),this.setPrivate("timer",undefined)},b.shouldRequireFailureOf=function(e){return!!(e.isKindOf(Oe)&&this.numberOfTapsRequired<e.numberOfTapsRequired)},b.shouldBeRequiredToFailBy=function(e){return!!(e.isKindOf(Oe)&&this.numberOfTapsRequired>=e.numberOfTapsRequired)},b.touchesBegan=function(e,t){if(this.state!==fe.BEGAN&&this.state!==fe.CHANGED)if(e.length+Se.prototype.getNumberOfTouches.call(this)<=this.numberOfTouchesRequired){if(0===Se.prototype.getNumberOfTouches.call(this)&&(this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.setPrivate("currentTouchBeganTimeStamp",t.timeStamp),this.setPrivate("isAvailableTouchesRemovable",!1),this.state=fe.POSSIBLE,this.getPrivate("numberOfContinualTaps")<this.numberOfTapsRequired&&Pe(this,de)),Se.prototype.touchesBegan.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired)if(this.getPrivate("numberOfContinualTaps")<this.numberOfTapsRequired){if(0===this.getPrivate("numberOfContinualTaps"))this.setPrivate("initTapStartLocation",Se.prototype.locate.call(this,this.getView().window));else if(this.getPrivate("initTapStartLocation").distanceFrom(Se.prototype.locate.call(this,this.getView().window))>me)return this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),void(this.state=fe.FAILED);this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),Pe(this,2*de-t.timeStamp+this.getPrivate("currentTouchBeganTimeStamp"))}else this.setPrivate("currentTouchBeganTimeStamp",t.timeStamp),this.setPrivate("initTapStartLocation",Se.prototype.locate.call(this,this.getView().window)),this.setPrivate("timer",setTimeout(function(){this.state=fe.BEGAN,this.getView().executeStateChangedRecognizers([this])}.bind(this),1e3*this.minimumPressDuration))}else this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.state=fe.FAILED;else for(var i=0;i<e.length;i++)this.ignore(e[i],t)},b.touchesMoved=function(e,t){Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired&&(this.getPrivate("numberOfContinualTaps")<this.numberOfTapsRequired?(t.targetTouches.length<this.numberOfTouchesRequired||this.getPrivate("initTapStartLocation").distanceFrom(Se.prototype.locate.call(this,this.getView().window))>me)&&(this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.state=fe.FAILED):Se.prototype.locate.call(this,this.getView().window).distanceFrom(this.getPrivate("initTapStartLocation"))>this.allowableMovement?(this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.state=fe.FAILED):this.state===fe.BEGAN&&(this.state=fe.CHANGED))},b.touchesEnded=function(e,t){if(Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired)if(this.getPrivate("numberOfContinualTaps")===this.numberOfTapsRequired)this.state!==fe.BEGAN&&this.state!==fe.CHANGED||this.delegate&&this.delegate.shouldBegin&&!this.delegate.shouldBegin()?(this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.state=fe.FAILED):this.state=fe.ENDED;else for(var i=0;i<e.length;i++)this.hasAvailableTouch(e[i])&&(this.getPrivate("numberOfOffTouches")+1===this.numberOfTouchesRequired?(this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.setPrivate("numberOfContinualTaps",this.getPrivate("numberOfContinualTaps")+1),Pe(this,ge),this.setPrivate("isAvailableTouchesRemovable",!0)):this.setPrivate("numberOfOffTouches",this.getPrivate("numberOfOffTouches")+1));else this.setPrivate("timer",clearTimeout(this.setPrivate("timer"))),this.state=fe.FAILED},b.removeAvailableTouches=function(e){this.getPrivate("isAvailableTouchesRemovable")&&(this.setPrivate("numberOfOffTouches",0),Se.prototype.removeAvailableTouches.call(this))},Ce.extend(Se),(b=Ce.prototype).getNumberOfTouches=function(){var e=Se.prototype.getNumberOfTouches.call(this);return e<=this.maximumNumberOfTouches?e:this.maximumNumberOfTouches},b.locate=function(e){return 0<this.getNumberOfTouches()?Se.locate(e):new q(-e.getStyle("left"),-e.getStyle("top"))},b.locateTouch=function(e,t){return 0<this.getNumberOfTouches()?Se.prototype.locateTouch(e,t):Se.prototype.locateTouch(-1,t)},b.reset=function(){Se.prototype.reset.call(this),this.setPrivate("initLocation",null),this.setPrivate("panLocation",null),this.setPrivate("lastTimestamp",0),this.setPrivate("translation",new q(0,0)),this.setPrivate("velocity",new q(0,0))},b.shouldRequireFailureOf=function(e){return!!(e.isKindOf(Ce)&&this.numberOfTapsRequired<e.numberOfTapsRequired)},b.shouldBeRequiredToFailBy=function(e){return!!(e.isKindOf(Ce)&&this.numberOfTapsRequired>=e.numberOfTapsRequired)},b.touchesBegan=function(e,t){if(this.state===fe.BEGAN||this.state===fe.CHANGED){var i,n=[],r=this.maximumNumberOfTouches-Se.prototype.getNumberOfTouches.call(this);for(i=0;i<r&&i<e.length;i++)n.push(e[i]);Se.prototype.touchesBegan.call(this,n,t)}else{this.state=fe.POSSIBLE,Se.prototype.touchesBegan.call(this,e,t);var o=Se.prototype.getNumberOfTouches.call(this);o>this.maximumNumberOfTouches?this.state=fe.FAILED:o>=this.minimumNumberOfTouches&&(this.setPrivate("initLocation",Se.prototype.locate.call(this,this.getView().window)),this.setPrivate("lastTimestamp",t.timeStamp))}},b.touchesMoved=function(e,t){Se.prototype.touchesMoved.call(this,e,t);var i=Se.prototype.locate.call(this,this.getView().window),n=0;switch(this.state){case fe.POSSIBLE:Se.prototype.getNumberOfTouches.call(this)>=this.minimumNumberOfTouches&&(n=i.x-this.getPrivate("initLocation").x,Math.abs(n)>=be&&(n<0?this.setPrivate("panLocation",new q(this.getPrivate("initLocation").x-be,i.y)):this.setPrivate("panLocation",new q(this.getPrivate("initLocation").x+be,i.y)),this.state=fe.BEGAN,Ae()),n=i.y-this.getPrivate("initLocation").y,Math.abs(n)>=be&&(n<0?this.setPrivate("panLocation",new q(i.x,this.getPrivate("initLocation").y-be)):this.setPrivate("panLocation",new q(i.x,this.getPrivate("initLocation").y+be)),this.state=fe.BEGAN,Ae()));break;case fe.BEGAN:this.state=fe.CHANGED,Ae();break;case fe.CHANGED:Ae()}},b.touchesEnded=function(e,t){Se.prototype.touchesEnded.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===e.length?this.state===fe.BEGAN||this.state===fe.CHANGED?this.state=fe.ENDED:this.state=fe.FAILED:setTimeout(function(){Se.prototype.removeAvailableTouches.call(this,e)}.bind(this))},b.translation=function(e){return this.getPrivate("translation")},b.setTranslation=function(e,t){this.setPrivate("translation",e)},b.velocity=function(e){return this.getPrivate("velocity")};var Ne=2;function Be(e,t){Se.call(this,e,t);this.initProperties({scale:1,velocity:0,initDistance:0,scaleDistance:0,lastTimestamp:0})}var Ie={};function Re(e){var t=0/e.getPrivate("scaleDistance"),i=event.timeStamp-e.getPrivate("lastTimestamp");0!==i&&e.setPrivate("velocity",(t-e.getPrivate("scale"))/i*1e3),e.setPrivate("lastTimestamp",event.timeStamp),e.setPrivate("scale",t)}Be.extend(Se),(b=Be.prototype).getNumberOfTouches=function(){return Se.prototype.getNumberOfTouches.call(this)},b.locate=function(e){return 0<this.getNumberOfTouches()?Se.locate(e):new q(-e.getStyle("left"),-e.getStyle("top"))},b.locateTouch=function(e,t){return 0<this.getNumberOfTouches()?Se.prototype.locateTouch(e,t):Se.prototype.locateTouch(-1,t)},b.reset=function(){Se.prototype.reset.call(this),this.setPrivate("scale",1),this.setPrivate("velocity",0),this.setPrivate("initDistance",0),this.setPrivate("scaleDistance",0),this.setPrivate("lastTimestamp",0)},b.getScale=function(){return Ie[this.getKey()].scale},b.getVelocity=function(){return Ie[this.getKey()].velocity},b.shouldRequireFailureOf=function(e){return!!(e.isKindOf(Be)&&this.numberOfTapsRequired<e.numberOfTapsRequired)},b.shouldBeRequiredToFailBy=function(e){return!!(e.isKindOf(Be)&&this.numberOfTapsRequired>=e.numberOfTapsRequired)},b.touchesBegan=function(e,t){this.state=fe.POSSIBLE;var i=[],n=0,r=Ne-Se.prototype.getNumberOfTouches.call(this);for(n=0;n<r&&n<e.length;n++)i.push(e[n]);for(Se.prototype.touchesBegan.call(this,i,t),0===this.getPrivate("lastTimestamp")&&Se.prototype.getNumberOfTouches.call(this)===Ne&&(this.setPrivate("initDistance",Se.prototype.locateTouch.call(this,0,this.getView().window).distanceFrom(Se.prototype.locateTouch.call(this,1,this.getView().window))),this.setPrivate("lastTimestamp",t.timeStamp)),this.state!==fe.BEGAN&&this.state!==fe.CHANGED&&(this.state=fe.POSSIBLE);n<e.length;n++)this.ignore(e[n],t)},b.touchesMoved=function(e,t){var i=0;if(Se.prototype.touchesMoved.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===Ne)switch(i=Se.prototype.locateTouch.call(this,0,this.getView().window).distanceFrom(Se.prototype.locateTouch.call(this,1,this.getView().window)),this.state){case fe.POSSIBLE:var n=i-this.getPrivate("initDistance");Math.abs(n)>=Te&&(this.setPrivate("scaleDistance",this.getPrivate("initDistance")+n/Math.abs(n)*Te),this.state=fe.BEGAN,Re(this));break;case fe.BEGAN:this.state=fe.CHANGED,Re(this);break;case fe.CHANGED:Re(this)}},b.touchesEnded=function(e,t){Se.prototype.touchesEnded.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===e.length?this.state===fe.BEGAN||this.state===fe.CHANGED?this.state=fe.ENDED:this.state=fe.FAILED:setTimeout(function(){Se.prototype.removeAvailableTouches.call(this,e)}.bind(this))};Ne=2;function Le(e,t){Se.call(this,e,t);this.initProperties({rotation:0,velocity:0,initVector:null,lastVector:0,lastTimestamp:0})}var De={};function xe(e){var t=e.getPrivate("lastVector"),i=t.intersectionAngleWith(e.getPrivate("lastVector"));e.setPrivate("rotation",e.getPrivate("rotation")+i);var n=event.timeStamp-e.getPrivate("lastTimestamp");0<n&&e.setPrivate("velocity",i/n*1e3),e.setPrivate("lastTimestamp",event.timeStamp),e.setPrivate("lastVector",t)}Le.extend(Se),(b=Le.prototype).getNumberOfTouches=function(){return Se.prototype.getNumberOfTouches.call(this)},b.locate=function(e){return 0<this.getNumberOfTouches()?Se.locate(e):new q(-e.getStyle("left"),-e.getStyle("top"))},b.locateTouch=function(e,t){return 0<this.getNumberOfTouches()?Se.prototype.locateTouch(e,t):Se.prototype.locateTouch(-1,t)},b.reset=function(){Se.prototype.reset.call(this),this.setPrivate("rotation",0),this.setPrivate("velocity",0),this.setPrivate("initVector",null),this.setPrivate("rotateAngle",0),this.setPrivate("lastTimestamp",0)},b.getRotation=function(){return De[this.getKey()].rotation},b.getVelocity=function(){return De[this.getKey()].velocity},b.shouldRequireFailureOf=function(e){return!!(e.isKindOf(Le)&&this.numberOfTapsRequired<e.numberOfTapsRequired)},b.shouldBeRequiredToFailBy=function(e){return!!(e.isKindOf(Le)&&this.numberOfTapsRequired>=e.numberOfTapsRequired)},b.touchesBegan=function(e,t){var i=[],n=0,r=Ne-Se.prototype.getNumberOfTouches.call(this);for(n=0;n<r&&n<e.length;n++)i.push(e[n]);for(Se.prototype.touchesBegan.call(this,i,t),this.getPrivate("initVector")||Se.prototype.getNumberOfTouches.call(this)!==Ne||(this.setPrivate("initVector",new j(Se.prototype.locateTouch.call(this,0,this.getView().window),Se.prototype.locateTouch.call(this,1,this.getView().window))),this.setPrivate("lastTimestamp",t.timeStamp)),this.state!==fe.BEGAN&&this.state!==fe.CHANGED&&(this.state=fe.POSSIBLE);n<e.length;n++)this.ignore(e[n],t)},b.touchesMoved=function(e,t){var i,n,r;if(Se.prototype.touchesMoved.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===Ne)switch(i=new j(Se.prototype.locateTouch.call(this,0,this.getView().window),Se.prototype.locateTouch.call(this,1,this.getView().window)),this.state){case fe.POSSIBLE:n=i.intersectionAngleWith(this.getPrivate("initVector")),Math.abs(n)>=we&&(this.state=fe.BEGAN,n<0?this.setPrivate("rotation",n+we):this.setPrivate("rotation",n-we),0!==(r=t.timeStamp-this.getPrivate("lastTimestamp"))&&this.setPrivate("velocity",this.getPrivate("rotation")/r*1e3),this.setPrivate("lastTimestamp",t.timeStamp),this.setPrivate("lastVector",i));break;case fe.BEGAN:this.state=fe.CHANGED,xe();break;case fe.CHANGED:xe()}},b.touchesEnded=function(e,t){Se.prototype.touchesEnded.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===e.length?this.state===fe.BEGAN||this.state===fe.CHANGED?this.state=fe.ENDED:this.state=fe.FAILED:setTimeout(function(){Se.prototype.removeAvailableTouches.call(this,e)}.bind(this))};var Ve=t.BCSSwipeGestureRecognizerDirectionEnum={RIGHT:1,LEFT:2,UP:4,DOWN:8};function Fe(e,t){Se.call(this,e,t),this.numberOfTouchesRequired=1,this.direction=Ve.RIGHT;this.initProperties({swipeStartPoint:null,swipeStartTimeStamp:0,swipeNumberOfTouches:0,newTotalX:0,newTotalY:0,previousTouches:{}})}var Me={};function qe(e,t){var i=e.getPrivate("newTotalX"),n=e.getPrivate("newTotalY");i+=t.pageX-e.getPrivate("previousTouches")[t.identifier].pageX,n+=t.pageY-e.getPrivate("previousTouches")[t.identifier].pageY,e.setPrivate("newTotalX",i),e.setPrivate("newTotalY",n),e.getPrivate("previousTouches")[t.identifier]=t}function ke(e,t){Se.call(this,e,t);var i={numberOfContinualTaps:0,initTapStartLocation:new q,currentTouchBeganTimeStamp:0,numberOfOffTouches:0,isAvailableTouchesRemovable:!1,timer:undefined};this.initProperties(i),this.numberOfTapsRequired=1,this.numberOfTouchesRequired=1}function Pe(e,t){e.setPrivate("timer",setTimeout(function(){e.state!==fe.FAILED&&(e.state=fe.FAILED,e.ignoreAvailableTouches(),e.reset()),console.log("reset")},t))}Fe.extend(Se),(b=Fe.prototype).reset=function(){Se.prototype.reset.call(this),this.setPrivate("swipeStartPoint",null),this.setPrivate("swipeStartTimeStamp",0),this.setPrivate("swipeNumberOfTouches",0),this.setPrivate("previousTouches",{}),this.setPrivate("newTotalX",0),this.setPrivate("newTotalY",0)},b.getNumberOfTouches=function(){return this.state!==fe.FAILED?Me[this.getKey()].swipeNumberOfTouches:0},b.locate=function(e){var t=Me[this.getKey()].initTouchBeganLocation;return 0<this.getNumberOfTouches()?new q(t.x-e.getStyle("left"),t.y-e.getStyle("top")):new q(-e.getStyle("left"),-e.getStyle("top"))},b.locateTouch=function(e,t){return 0<this.getNumberOfTouches()?Se.prototype.locateTouch(e,t):Se.prototype.locateTouch(-1,t)},b.shouldRequireFailureOf=function(e){return!!e.isKindOf(Fe)},b.shouldBeRequiredToFailBy=function(e){return!e.isKindOf(Fe)},b.touchesBegan=function(e,t){var i=e.length+Se.prototype.getNumberOfTouches.call(this);if(Se.prototype.touchesBegan.call(this,e,t),this.state=fe.POSSIBLE,i<=this.numberOfTouchesRequired){for(var n=0;n<e.length;n++)this.getPrivate("previousTouches")[e[n].identifier]=e[n];this.setPrivate("swipeStartTimeStamp",t.timeStamp),this.setPrivate("swipeStartPoint",Se.prototype.locate.call(this,this.getView().window)),this.setPrivate("swipeNumberOfTouches",this.getPrivate("swipeNumberOfTouches")+e.length)}},b.touchesMoved=function(e,t){var i,n=this.getNumberOfTouches();if(e.length<=this.getNumberOfTouches())if(t.timeStamp-this.getPrivate("swipeStartTimeStamp")<=ye){var r,o;switch(this.direction){case Ve.RIGHT:for(i=0;i<e.length;i++)if(r=e[i],o=this.getPrivate("previousTouches")[r.identifier]){if(r.pageX-o.pageX<=0)return void(this.state=fe.FAILED);qe(this,r)}break;case Ve.LEFT:for(i=0;i<e.length;i++)if(r=e[i],o=this.getPrivate("previousTouches")[r.identifier]){if(0<=r.pageX-o.pageX)return void(this.state=fe.FAILED);qe(this,r)}break;case Ve.UP:for(i=0;i<e.length;i++)if(r=e[i],o=this.getPrivate("previousTouches")[r.identifier]){if(0<=r.pageY-o.pageY)return void(this.state=fe.FAILED);qe(this,r)}break;case Ve.DOWN:for(i=0;i<e.length;i++)if(r=e[i],o=this.getPrivate("previousTouches")[r.identifier]){if(r.pageY-o.pageY<=0)return void(this.state=fe.FAILED);qe(this,r)}}this.getNumberOfTouches()===this.numberOfTouchesRequired&&this.getPrivate("swipeStartPoint").distanceFrom(new q(this.getPrivate("newTotalX")/n,this.getPrivate("newTotalY")/n))>=ve&&(this.state=fe.ENDED),Se.prototype.touchesMoved.call(this,e,t)}else this.state=fe.FAILED},b.touchesEnded=function(e,t){this.state=fe.FAILED},ke.extend(Se),(b=ke.prototype).getNumberOfTouches=function(){return Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired?this.numberOfTouchesRequired:0},b.locate=function(e){var t=this.getPrivate("initTapStartLocation");return new q(t.x-e.getStyle("left"),t.y-e.getStyle("top"))},b.locateTouch=function(e,t){return 0<this.getNumberOfTouches()?Se.prototype.locateTouch(e,t):Se.prototype.locateTouch(-1,t)},b.reset=function(){Se.prototype.reset.call(this),this.setPrivate("numberOfContinualTaps",0),this.setPrivate("initTapStartLocation",new q),this.setPrivate("currentTouchBeganTimeStamp",0),this.setPrivate("numberOfOffTouches",0),clearTimeout(this.getPrivate("timer")),this.setPrivate("timer",undefined)},b.shouldRequireFailureOf=function(e){return!!(e.isKindOf(ke)&&this.numberOfTapsRequired<e.numberOfTapsRequired)},b.shouldBeRequiredToFailBy=function(e){return!!(e.isKindOf(ke)&&this.numberOfTapsRequired>=e.numberOfTapsRequired)},b.touchesBegan=function(e,t){if(e.length+Se.prototype.getNumberOfTouches.call(this)<=this.numberOfTouchesRequired){if(0===Se.prototype.getNumberOfTouches.call(this)&&(clearTimeout(this.getPrivate("timer")),this.setPrivate("timer",undefined),this.setPrivate("currentTouchBeganTimeStamp",t.timeStamp),this.setPrivate("isAvailableTouchesRemovable",!1),Pe(this,de),this.state=fe.POSSIBLE),Se.prototype.touchesBegan.call(this,e,t),Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired){if(0===this.getPrivate("numberOfContinualTaps"))this.setPrivate("initTapStartLocation",Se.prototype.locate.call(this,this.getView().window));else if(this.getPrivate("initTapStartLocation").distanceFrom(Se.prototype.locate.call(this,this.getView().window))>me)return this.setPrivate("timer",clearTimeout(this.getPrivate("timer"))),void(this.state=fe.FAILED);this.setPrivate("timer",clearTimeout(this.getPrivate("timer"))),Pe(this,2*de-t.timeStamp+this.getPrivate("currentTouchBeganTimeStamp"))}}else this.setPrivate("timer",clearTimeout(this.getPrivate("timer"))),this.state=fe.FAILED},b.touchesMoved=function(e,t){Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired&&(t.targetTouches.length<this.numberOfTouchesRequired||this.getPrivate("initTapStartLocation").distanceFrom(Se.prototype.locate.call(this,this.getView().window)))>me&&(this.setPrivate("timer",clearTimeout(this.getPrivate("timer"))),this.state=fe.FAILED)},b.touchesEnded=function(e,t){if(Se.prototype.getNumberOfTouches.call(this)===this.numberOfTouchesRequired){for(var i=0;i<e.length;i++)if(this.hasAvailableTouch(e[i]))if(this.getPrivate("numberOfOffTouches")+1===this.numberOfTouchesRequired){this.setPrivate("timer",clearTimeout(this.getPrivate("timer")));var n=this.getPrivate("numberOfContinualTaps");this.setPrivate("numberOfContinualTaps",++n),n===this.numberOfTapsRequired?this.delegate&&this.delegate.shouldBegin&&!this.delegate.shouldBegin()?this.state=fe.FAILED:this.state=fe.ENDED:(Pe(this,ge),this.getPrivate("isAvailableTouchesRemovable",!0))}else{var r=this.getPrivate("numberOfOffTouches");this.setPrivate("numberOfOffTouches",++r)}}else this.setPrivate("timer",clearTimeout(this.getPrivate("timer"))),this.state=fe.FAILED},b.removeAvailableTouches=function(e){this.getPrivate("isAvailableTouchesRemovable")&&(this.setPrivate("numberOfOffTouches",0),Se.prototype.removeAvailableTouches.call(this))}});